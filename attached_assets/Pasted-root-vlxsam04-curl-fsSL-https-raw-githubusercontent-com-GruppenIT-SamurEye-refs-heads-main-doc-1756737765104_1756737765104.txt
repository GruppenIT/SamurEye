root@vlxsam04:~# curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/refs/heads/main/docs/deployment/vlxsam04/fix-collector-config.sh | sudo bash
ğŸ”§ vlxsam04 - CORRIGIR CONFIGURAÃ‡ÃƒO COLLECTOR
==============================================

[14:42:47] ğŸ” Detectando situaÃ§Ã£o atual do collector...
[14:42:48] ğŸ“‹ ServiÃ§o samureye-collector encontrado
[14:42:48] âœ… ServiÃ§o estÃ¡ ativo
[14:42:54] â¹ï¸ ServiÃ§o parado para reconfiguraÃ§Ã£o
[14:42:54] ğŸ“ DiretÃ³rio encontrado: /opt/samureye-collector
[14:42:54] ğŸ‘¤ Criando usuÃ¡rio samureye...
[14:42:54] âš™ï¸ Criando configuraÃ§Ã£o do collector...
[14:42:54] âœ… ConfiguraÃ§Ã£o criada: /etc/samureye/collector.conf
[14:42:54] ğŸ“¦ Verificando dependÃªncias Python...
[14:42:54] ğŸ Criando ambiente virtual Python...
[14:43:03] âœ… DependÃªncias Python instaladas
[14:43:03] ğŸ¤– Criando collector agent atualizado...
[14:43:03] âœ… Collector agent criado
[14:43:03] ğŸ”§ Criando serviÃ§o systemd...
[14:43:03] ğŸ”§ Ajustando permissÃµes...
[14:43:03] ğŸš€ Habilitando e iniciando serviÃ§o...
[14:43:13] ğŸ§ª Verificando funcionamento...
[14:43:13] âœ… ServiÃ§o ativo
[14:43:13] WARNING: âš ï¸ Heartbeat ainda nÃ£o confirmado
[14:43:13] ğŸ“ Ãšltimos logs:
Sep 01 14:43:03 vlxsam04 systemd[1]: Started samureye-collector.service - SamurEye Collector Agent - vlxsam04.
Sep 01 14:43:03 vlxsam04 samureye-collector[125544]: 2025-09-01 14:43:03,891 - samureye-collector - INFO - Iniciando SamurEye Collector Agent vlxsam04
Sep 01 14:43:03 vlxsam04 samureye-collector[125544]: 2025-09-01 14:43:03,891 - samureye-collector - INFO - Servidor: https://app.samureye.com.br
Sep 01 14:43:03 vlxsam04 samureye-collector[125544]: 2025-09-01 14:43:03,891 - samureye-collector - INFO - Hostname: vlxsam04
Sep 01 14:43:04 vlxsam04 samureye-collector[125544]: /opt/samureye-collector/venv/lib/python3.12/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'app.samureye.com.br'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings
Sep 01 14:43:04 vlxsam04 samureye-collector[125544]:   warnings.warn(
Sep 01 14:43:04 vlxsam04 samureye-collector[125544]: 2025-09-01 14:43:04,942 - samureye-collector - WARNING - Tentativa 1 falhou, tentando novamente...
Sep 01 14:43:09 vlxsam04 samureye-collector[125544]: /opt/samureye-collector/venv/lib/python3.12/site-packages/urllib3/connectionpool.py:1097: InsecureRequestWarning: Unverified HTTPS request is being made to host 'app.samureye.com.br'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings
Sep 01 14:43:09 vlxsam04 samureye-collector[125544]:   warnings.warn(
Sep 01 14:43:09 vlxsam04 samureye-collector[125544]: 2025-09-01 14:43:09,992 - samureye-collector - WARNING - Tentativa 2 falhou, tentando novamente...

[14:43:13] ğŸ¯ COLLECTOR CONFIGURADO COM SUCESSO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š CONFIGURAÃ‡ÃƒO:
   âœ“ Nome: vlxsam04
   âœ“ Hostname: vlxsam04
   âœ“ IP: 192.168.100.151
   âœ“ Server: https://app.samureye.com.br

ğŸ”§ SERVIÃ‡O:
   âœ“ Status: Ativo
   âœ“ Heartbeat: A cada 2 minutos
   âœ“ Telemetria: CPU, memÃ³ria, disco real

ğŸ“ ARQUIVOS:
   â€¢ Config: /etc/samureye/collector.conf
   â€¢ Agent: /opt/samureye-collector/collector_agent.py
   â€¢ Logs: /var/log/samureye/collector.log

ğŸ“ MONITORAMENTO:
   â€¢ Status: systemctl status samureye-collector
   â€¢ Logs: journalctl -u samureye-collector -f
   â€¢ Config: cat /etc/samureye/collector.conf

ğŸ’¡ PRÃ“XIMO PASSO:
   Verificar na interface se collector aparece online
   URL: https://app.samureye.com.br/collectors
root@vlxsam04:~#