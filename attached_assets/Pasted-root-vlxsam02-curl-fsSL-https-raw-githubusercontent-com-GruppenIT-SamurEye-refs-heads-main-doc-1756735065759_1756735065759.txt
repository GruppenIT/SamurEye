root@vlxsam02:~# curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/refs/heads/main/docs/deployment/vlxsam02/apply-collector-improvements.sh | sudo bash
ğŸ”§ vlxsam02 - APLICAR MELHORIAS COLLECTORS
==========================================
1. DetecÃ§Ã£o automÃ¡tica de status offline (5min timeout)
2. Telemetria real do collector vlxsam04
3. Funcionalidade Update Packages
4. Comando Deploy unificado

[10:55:54] ğŸ“ AplicaÃ§Ã£o encontrada em: /opt/samureye/SamurEye
[10:55:54] â¹ï¸ Parando aplicaÃ§Ã£o...
[10:55:54] ğŸ’¾ Criando backup...
[10:55:54] ğŸ“¥ Baixando atualizaÃ§Ãµes do GitHub...
[10:55:54] âœ… server/routes.ts atualizado
[10:55:55] âœ… client/src/pages/Collectors.tsx atualizado
[10:55:55] ğŸ”§ Aplicando correÃ§Ãµes especÃ­ficas...
[10:55:55] ğŸ“¦ Verificando dependÃªncias...
[10:55:58] âœ… DependÃªncias verificadas
[10:55:58] ğŸ”¨ Fazendo rebuild da aplicaÃ§Ã£o...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.19 building for production...
transforming (3) src/main.tsxBrowserslist: browsers data (caniuse-lite) is 11 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
âœ“ 2692 modules transformed.
../dist/public/index.html                   2.20 kB â”‚ gzip:   0.86 kB
../dist/public/assets/index-BzMs3bRP.css   68.82 kB â”‚ gzip:  11.97 kB
../dist/public/assets/index-DI20BVPr.js   666.31 kB â”‚ gzip: 192.35 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
âœ“ built in 6.19s

  dist/index.js  100.0kb

âš¡ Done in 10ms
[10:56:05] âœ… Build concluÃ­do com sucesso
[10:56:05] ğŸ”§ Ajustando permissÃµes...
[10:56:05] ğŸš€ Iniciando aplicaÃ§Ã£o...
[10:56:28] ğŸ§ª Testando melhorias implementadas...
[10:56:28] WARNING: âŒ Teste 1/5: Telemetria nÃ£o encontrada
[10:56:28] âœ… Teste 2/5: Rota collectors tenant funcionando
root@vlxsam02:~#