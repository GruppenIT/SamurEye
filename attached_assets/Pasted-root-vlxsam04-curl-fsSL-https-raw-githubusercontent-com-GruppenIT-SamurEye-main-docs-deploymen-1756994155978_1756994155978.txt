root@vlxsam04:~# curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/register-collector.sh | bash -s -- gruppen-it b305a1fc-491c-4b51-ad5d-f48c3ef721c6

ğŸ”§ REGISTRO COLLECTOR SAMUREYE
==============================

[10:56:05] ğŸ” ParÃ¢metros recebidos:
   â€¢ Tenant Slug: gruppen-it
   â€¢ Token: b305a1fc...3ef721c6
[10:56:05] ğŸ” Verificando prerequisitos...
[10:56:05] âœ… Prerequisitos verificados
[10:56:05] ğŸ” Coletando informaÃ§Ãµes do sistema...
[10:56:05]    â€¢ Hostname: vlxsam04
[10:56:05]    â€¢ IP Address: 192.168.100.151
[10:56:05] ğŸŒ Testando conectividade com API...
[10:56:05] âœ… Conectividade OK
[10:56:05] ğŸ”§ Registrando collector...
[10:56:05] ğŸ“¤ Enviando registro para API...
[10:56:06] ğŸ“¥ Processando resposta da API...
[10:56:06] ğŸ‰ COLLECTOR REGISTRADO COM SUCESSO!

[10:56:06] ğŸ“‹ DETALHES DO REGISTRO:
   â€¢ Nome do Collector: vlxsam04
   â€¢ Tenant: Gruppen it
   â€¢ Status: online
   â€¢ Hostname: vlxsam04
   â€¢ IP: 192.168.100.151

[10:56:06] ğŸ’¾ Salvando token de autenticaÃ§Ã£o...
[10:56:06] WARNING: âš ï¸  Token nÃ£o encontrado na resposta da API
   Registro reportado como sucesso mas token nÃ£o recebido
[10:56:06] âœ… Collector estÃ¡ online e enviando telemetria

[10:56:06] ğŸ¯ REGISTRO CONCLUÃDO COM SUCESSO!

ğŸ“‹ PRÃ“XIMOS PASSOS:
   â€¢ O collector jÃ¡ estÃ¡ enviando telemetria automaticamente
   â€¢ Verifique o status na interface de administraÃ§Ã£o
   â€¢ O collector aparecerÃ¡ como 'ONLINE' na gestÃ£o de coletores

[10:56:06] âœ… Script de registro finalizado
root@vlxsam04:~# tail -f /var/log/samureye-collector/collector.log
2025-09-04 10:56:07,915 - ERROR - Erro no registro: 401 - {"message":"Unauthorized"}
2025-09-04 10:56:07,915 - ERROR - Falha no registro inicial
2025-09-04 10:56:18,369 - INFO - ConfiguraÃ§Ã£o carregada - ID: vlxsam04, Nome:
2025-09-04 10:56:18,370 - INFO - Iniciando heartbeat collector...
2025-09-04 10:56:18,370 - INFO - Token nÃ£o encontrado, registrando collector...
2025-09-04 10:56:18,370 - INFO - Registrando collector: {'name': '', 'hostname': 'vlxsam04', 'ipAddress': '', 'status': 'enrolling', 'description': 'Collector agent on-premise vlxsam04'}
/usr/lib/python3/dist-packages/urllib3/connectionpool.py:1100: InsecureRequestWarning: Unverified HTTPS request is being made to host 'api.samureye.com.br'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings
  warnings.warn(
2025-09-04 10:56:18,424 - ERROR - Erro no registro: 401 - {"message":"Unauthorized"}
2025-09-04 10:56:18,424 - ERROR - Falha no registro inicial
