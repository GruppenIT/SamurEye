cc -g -ggdb    -Wall -O2 -c src/vulncheck-heartbleed.c -o tmp/vulncheck-heartbleed.o
cc -g -ggdb    -Wall -O2 -c src/vulncheck-ntp-monlist.c -o tmp/vulncheck-ntp-monlist.o
cc -g -ggdb    -Wall -O2 -c src/vulncheck-sslv3.c -o tmp/vulncheck-sslv3.o
cc -g -ggdb    -Wall -O2 -c src/vulncheck.c -o tmp/vulncheck.o
cc -g -ggdb    -Wall -O2 -c src/xring.c -o tmp/xring.o
cc -g -ggdb    -Wall -O2 -o bin/masscan tmp/crypto-base64.o tmp/crypto-blackrock.o tmp/crypto-blackrock2.o tmp/crypto-lcg.o tmp/crypto-primegen.o tmp/crypto-siphash24.o tmp/event-timeout.o tmp/in-binary.o tmp/in-filter.o tmp/in-report.o tmp/main-conf.o tmp/main-dedup.o tmp/main-initadapter.o tmp/main-listscan.o tmp/main-ptrace.o tmp/main-readrange.o tmp/main-status.o tmp/main-throttle.o tmp/main.o tmp/masscan-app.o tmp/massip-addr.o tmp/massip-parse.o tmp/massip-rangesv4.o tmp/massip-rangesv6.o tmp/massip.o tmp/misc-rstfilter.o tmp/out-binary.o tmp/out-certs.o tmp/out-grepable.o tmp/out-hostonly.o tmp/out-json.o tmp/out-ndjson.o tmp/out-null.o tmp/out-redis.o tmp/out-tcp-services.o tmp/out-text.o tmp/out-unicornscan.o tmp/out-xml.o tmp/output.o tmp/pixie-backtrace.o tmp/pixie-file.o tmp/pixie-threads.o tmp/pixie-timer.o tmp/proto-arp.o tmp/proto-banner1.o tmp/proto-banout.o tmp/proto-coap.o tmp/proto-dns.o tmp/proto-ftp.o tmp/proto-http.o tmp/proto-icmp.o tmp/proto-imap4.o tmp/proto-isakmp.o tmp/proto-mc.o tmp/proto-memcached.o tmp/proto-netbios.o tmp/proto-ntlmssp.o tmp/proto-ntp.o tmp/proto-oproto.o tmp/proto-pop3.o tmp/proto-preprocess.o tmp/proto-sctp.o tmp/proto-smb.o tmp/proto-smtp.o tmp/proto-snmp.o tmp/proto-ssh.o tmp/proto-ssl-test.o tmp/proto-ssl.o tmp/proto-tcp-rdp.o tmp/proto-tcp-telnet.o tmp/proto-udp.o tmp/proto-versioning.o tmp/proto-vnc.o tmp/proto-x509.o tmp/proto-zeroaccess.o tmp/rawsock-getif.o tmp/rawsock-getip.o tmp/rawsock-getip6.o tmp/rawsock-getmac.o tmp/rawsock-getroute.o tmp/rawsock-pcapfile.o tmp/rawsock.o tmp/read-service-probes.o tmp/rte-ring.o tmp/scripting-banner.o tmp/scripting-masscan.o tmp/scripting.o tmp/smack1.o tmp/smackqueue.o tmp/stack-arpv4.o tmp/stack-if.o tmp/stack-ndpv6.o tmp/stack-queue.o tmp/stack-src.o tmp/stack-tcp-app.o tmp/stack-tcp-core.o tmp/stub-lua.o tmp/stub-pcap.o tmp/stub-pfring.o tmp/syn-cookie.o tmp/templ-nmap-payloads.o tmp/templ-payloads.o tmp/templ-pkt.o tmp/templ-tcp-hdr.o tmp/util-checksum.o tmp/util-errormsg.o tmp/util-extract.o tmp/util-logger.o tmp/util-malloc.o tmp/util-safefunc.o tmp/vulncheck-heartbleed.o tmp/vulncheck-ntp-monlist.o tmp/vulncheck-sslv3.o tmp/vulncheck.o tmp/xring.o   -lm -lrt -ldl -lpthread
install -pDm755 bin/masscan /usr/bin/masscan
[10:11:31] ‚úÖ Masscan compilado e instalado do c√≥digo fonte
[10:11:31] üêç Instalando Python 3.11...
Repository: 'Types: deb
URIs: https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu/
Suites: noble
Components: main
'
Description:
This PPA contains more recent Python versions packaged for Ubuntu.

Disclaimer: there's no guarantee of timely updates in case of security problems or other issues. If you want to use them in a security-or-otherwise-critical environment (say, on a production server), you do so at your own risk.

Update Note
===========
Please use this repository instead of ppa:fkrull/deadsnakes.

Reporting Issues
================

Issues can be reported in the master issue tracker at:
https://github.com/deadsnakes/issues/issues

Supported Ubuntu and Python Versions
====================================

- Ubuntu 20.04 (focal) Python3.5 - Python3.7, Python3.9 - Python3.13
- Ubuntu 22.04 (jammy) Python3.7 - Python3.9, Python3.11 - Python3.13
- Ubuntu 24.04 (noble) Python3.7 - Python3.11, Python3.13
- Note: Python2.7 (focal, jammy), Python 3.8 (focal), Python 3.10 (jammy), Python3.12 (noble) are not provided by deadsnakes as upstream ubuntu provides those packages.

Why some packages aren't built:
- Note: for focal, older python versions require libssl<1.1 so they are not currently built
- Note: for jammy and noble, older python versions requre libssl<3 so they are not currently built
- If you need these, reach out to asottile to set up a private ppa

The packages may also work on other versions of Ubuntu or Debian, but that is not tested or supported.

Packages
========

The packages provided here are loosely based on the debian upstream packages with some modifications to make them more usable as non-default pythons and on ubuntu.  As such, the packages follow debian's patterns and often do not include a full python distribution with just `apt install python#.#`.  Here is a list of packages that may be useful along with the default install:

- `python#.#-dev`: includes development headers for building C extensions
- `python#.#-venv`: provides the standard library `venv` module
- `python#.#-distutils`: provides the standard library `distutils` module
- `python#.#-lib2to3`: provides the `2to3-#.#` utility as well as the standard library `lib2to3` module
- `python#.#-gdbm`: provides the standard library `dbm.gnu` module
- `python#.#-tk`: provides the standard library `tkinter` module

Third-Party Python Modules
==========================

Python modules in the official Ubuntu repositories are packaged to work with the Python interpreters from the official repositories. Accordingly, they generally won't work with the Python interpreters from this PPA. As an exception, pure-Python modules for Python 3 will work, but any compiled extension modules won't.

To install 3rd-party Python modules, you should use the common Python packaging tools.  For an introduction into the Python packaging ecosystem and its tools, refer to the Python Packaging User Guide:
https://packaging.python.org/installing/

Sources
=======
The package sources are available at:
https://github.com/deadsnakes/

Nightly Builds
==============

For nightly builds, see ppa:deadsnakes/nightly https://launchpad.net/~deadsnakes/+archive/ubuntu/nightly
More info: https://launchpad.net/~deadsnakes/+archive/ubuntu/ppa
Adding repository.
Found existing deb entry in /etc/apt/sources.list.d/deadsnakes-ubuntu-ppa-noble.sources
Hit:1 https://deb.nodesource.com/node_20.x nodistro InRelease
Hit:2 http://archive.ubuntu.com/ubuntu noble InRelease
Hit:3 http://security.ubuntu.com/ubuntu noble-security InRelease
Hit:4 http://archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:5 http://archive.ubuntu.com/ubuntu noble-backports InRelease
Hit:6 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu noble InRelease
Reading package lists... Done
Hit:1 https://deb.nodesource.com/node_20.x nodistro InRelease
Hit:2 http://archive.ubuntu.com/ubuntu noble InRelease
Hit:3 http://security.ubuntu.com/ubuntu noble-security InRelease
Hit:4 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu noble InRelease
Hit:5 http://archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:6 http://archive.ubuntu.com/ubuntu noble-backports InRelease
Reading package lists... Done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
python3.11 is already the newest version (3.11.13-1+noble1).
python3.11-dev is already the newest version (3.11.13-1+noble1).
python3.11-venv is already the newest version (3.11.13-1+noble1).
python3.11-distutils is already the newest version (3.11.13-1+noble1).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
[10:11:55] ‚úÖ Python 3.11.13 instalado
[10:11:55] ‚úÖ Python padr√£o: 3.12.3
[10:11:55] üì¶ Instalando Node.js 20...
2025-09-04 10:11:55 - Installing pre-requisites
Hit:1 https://deb.nodesource.com/node_20.x nodistro InRelease
Hit:2 http://archive.ubuntu.com/ubuntu noble InRelease
Hit:3 http://security.ubuntu.com/ubuntu noble-security InRelease
Hit:4 http://archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:5 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu noble InRelease
Hit:6 http://archive.ubuntu.com/ubuntu noble-backports InRelease
Reading package lists... Done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
apt-transport-https is already the newest version (2.8.3).
ca-certificates is already the newest version (20240203).
curl is already the newest version (8.5.0-2ubuntu10.6).
gnupg is already the newest version (2.4.4-2ubuntu17.3).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Hit:1 https://deb.nodesource.com/node_20.x nodistro InRelease
Hit:2 http://security.ubuntu.com/ubuntu noble-security InRelease
Hit:3 http://archive.ubuntu.com/ubuntu noble InRelease
Hit:4 http://archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:5 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu noble InRelease
Hit:6 http://archive.ubuntu.com/ubuntu noble-backports InRelease
Reading package lists... Done
2025-09-04 10:12:01 - Repository configured successfully.
2025-09-04 10:12:01 - To install Node.js, run: apt-get install nodejs -y
2025-09-04 10:12:01 - You can use N|solid Runtime as a node.js alternative
2025-09-04 10:12:01 - To install N|solid Runtime, run: apt-get install nsolid -y

Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
nodejs is already the newest version (20.19.5-1nodesource1).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
[10:12:02] ‚úÖ Node.js v20.19.5 instalado
[10:12:02] üë§ Criando usu√°rio e estrutura de diret√≥rios...
[10:12:02] ‚úÖ Usu√°rio samureye-collector criado
[10:12:02] ‚úÖ Estrutura de diret√≥rios criada
[10:12:02] üõ°Ô∏è Instalando ferramentas de seguran√ßa...
[10:12:02] üì° Configurando Nmap...
[10:12:02] ‚úÖ Nmap configurado:
[10:12:02] ‚úÖ Masscan configurado
[10:12:02]    Vers√£o:
[10:12:02] üîç Instalando Nuclei...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
[10:12:03] WARNING: ‚ö†Ô∏è Nuclei via apt falhou, instalando via GitHub...
[10:12:06] ‚úÖ Nuclei instalado via GitHub
[10:12:06] ‚úÖ Nuclei configurado (vNuclei)
[10:12:06] üìã Atualizando templates Nuclei em background...
[10:12:06] üîç Instalando Gobuster...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
gobuster is already the newest version (3.6.0-1ubuntu0.24.04.3).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
[10:12:07] ‚úÖ Gobuster instalado via apt
[10:12:07] WARNING: ‚ö†Ô∏è Gobuster instalado mas n√£o no PATH - corrigindo...
[10:12:07] WARNING: ‚ùå Gobuster instalado mas bin√°rio n√£o encontrado
[10:12:07] üßπ Arquivos tempor√°rios removidos
[10:12:07] ü§ñ Instalando agente coletor...
[10:12:07] üì¶ Instalando depend√™ncias Python...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
python3-psutil is already the newest version (5.9.8-2build2).
python3-requests is already the newest version (2.31.0+dfsg-1ubuntu1.1).
python3-venv is already the newest version (3.12.3-0ubuntu2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
[10:12:08] ‚úÖ Depend√™ncias Python instaladas
[10:12:08] üîß Configurando servi√ßo systemd...
[10:12:08] ‚úÖ Servi√ßo systemd configurado
[10:12:08] ‚è∞ Configurando cron jobs...
[10:12:08] ‚úÖ Cron jobs configurados
[10:12:08] üîí Configurando firewall...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
ufw is already the newest version (0.36.2-6).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Backing up 'user.rules' to '/etc/ufw/user.rules.20250904_101210'
Backing up 'before.rules' to '/etc/ufw/before.rules.20250904_101210'
Backing up 'after.rules' to '/etc/ufw/after.rules.20250904_101210'
Backing up 'user6.rules' to '/etc/ufw/user6.rules.20250904_101210'
Backing up 'before6.rules' to '/etc/ufw/before6.rules.20250904_101210'
Backing up 'after6.rules' to '/etc/ufw/after6.rules.20250904_101210'

Default incoming policy changed to 'deny'
(be sure to update your rules accordingly)
Default outgoing policy changed to 'allow'
(be sure to update your rules accordingly)
Rules updated
Rules updated (v6)
Rules updated
Rules updated
Rules updated (v6)
Firewall is active and enabled on system startup
[10:12:11] ‚úÖ Firewall configurado
[10:12:11] üöÄ Iniciando servi√ßo collector...
Created symlink /etc/systemd/system/multi-user.target.wants/samureye-collector.service ‚Üí /etc/systemd/system/samureye-collector.service.
[10:12:19] ‚úÖ Templates Nuclei atualizados
[10:12:22] WARNING: ‚ö†Ô∏è Collector pode ter problemas - verificar logs
[10:12:22] üß™ Executando testes de valida√ß√£o...
[10:12:22] WARNING: ‚ö†Ô∏è Servi√ßo: Inativo
[10:12:22] ‚úÖ Python: Depend√™ncias OK
[10:12:22] üõ°Ô∏è Ferramentas: nmap:‚úÖ nuclei:‚úÖ masscan:‚úÖ gobuster:‚ùå
[10:12:22] ‚úÖ API: Conectividade OK
[10:12:22] ‚úÖ Logs: Sendo gerados
[10:12:22] üíì Configurando corre√ß√µes de heartbeat e conectividade...
[10:12:22] WARNING: ‚ö†Ô∏è Arquivo de configura√ß√£o /etc/samureye-collector/.env n√£o encontrado
[10:12:22] ‚úÖ Script de teste de conectividade criado: /opt/samureye/collector/test-connectivity.sh
[10:12:22] WARNING: ‚ö†Ô∏è Certificados n√£o encontrados - teste de conectividade pulado
[10:12:22] üìù Criando script de registro...
[10:12:22] üìù Sistema de registro integrado ao heartbeat implementado
[10:12:22] üîß Implementando corre√ß√£o de duplica√ß√£o de coletores...
[10:12:22] üîç Testando permiss√µes de leitura do arquivo de configura√ß√£o...
[10:12:22] ‚úÖ Permiss√µes de leitura: OK
[10:12:22] ‚úÖ Sistema anti-duplica√ß√£o integrado no install-hard-reset
[10:12:22] ‚ö†Ô∏è Sistema base instalado - registro manual necess√°rio
[10:12:22] üìã Use o script de registro separado com token do tenant
[10:12:22] üìã Criando scripts de diagn√≥stico e utilit√°rios integrados...
[10:12:22] ‚úÖ Script de salvamento de token criado: /opt/samureye/collector/scripts/save-token.sh
[10:12:22] ‚úÖ Script de diagn√≥stico integrado criado
[10:12:22] üîß Verificando e corrigindo problemas de autentica√ß√£o...
[10:12:22] ‚úÖ Nenhum erro de autentica√ß√£o detectado
[10:12:22] ‚úÖ Sistema de corre√ß√£o autom√°tica integrado

[10:12:22] üéâ HARD RESET DO COLLECTOR AGENT CONCLU√çDO!

üìã RESUMO DA INSTALA√á√ÉO:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
ü§ñ Collector Agent:
   ‚Ä¢ Status:  active
   ‚Ä¢ User:    samureye-collector
   ‚Ä¢ Dir:     /opt/samureye/collector
   ‚Ä¢ Logs:    /var/log/samureye-collector/

üêç Python 3.11:
   ‚Ä¢ Version: Python 3.12.3
   ‚Ä¢ Libs:    psutil, requests

üì¶ Node.js 20:
   ‚Ä¢ Version: v20.19.5

üõ°Ô∏è Security Tools:
   ‚Ä¢ Nmap:     ‚úÖ Instalado
   ‚Ä¢ Nuclei:   ‚úÖ Instalado
   ‚Ä¢ Masscan:  ‚úÖ Instalado
   ‚Ä¢ Gobuster: ‚ùå Ausente

üîß Comandos √öteis:
   ‚Ä¢ Status:     systemctl status samureye-collector
   ‚Ä¢ Logs:       tail -f /var/log/samureye-collector/collector.log
   ‚Ä¢ Restart:    systemctl restart samureye-collector
   ‚Ä¢ Heartbeat:  /opt/samureye/collector/heartbeat.py
   ‚Ä¢ Cleanup:    /opt/samureye/collector/scripts/cleanup.sh
   ‚Ä¢ Test Conn:  /opt/samureye/collector/test-connectivity.sh
   ‚Ä¢ Check Status: /opt/samureye/collector/scripts/check-status.sh

üîó Conectividade:
   ‚Ä¢ API:       https://api.samureye.com.br
   ‚Ä¢ Gateway:   192.168.100.151

üíì Heartbeat & Status:
   ‚Ä¢ Intervalo: 30 segundos (configur√°vel em /etc/samureye-collector/.env)
   ‚Ä¢ Endpoint:  https://api.samureye.com.br/collector-api/heartbeat
   ‚Ä¢ Retry:     3 tentativas autom√°ticas por request
   ‚Ä¢ Timeout:   30 segundos por request HTTP

üìù PR√ìXIMOS PASSOS OBRIGAT√ìRIOS:
   ‚ö†Ô∏è  SISTEMA BASE INSTALADO - REGISTRO NECESS√ÅRIO ‚ö†Ô∏è

   1. Acesse a interface de administra√ß√£o:
      https://app.samureye.com.br/admin/collectors

   2. Fa√ßa login e v√° para 'Gest√£o de Coletores'

   3. Clique em 'Novo Coletor' e preencha:
      ‚Ä¢ Nome: vlxsam04
      ‚Ä¢ Hostname: vlxsam04
      ‚Ä¢ IP: 192.168.100.151

   4. Copie o TOKEN DE ENROLLMENT gerado (v√°lido por 15 minutos)

   5. Execute o comando de registro:
      curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/register-collector.sh | bash -s -- <tenant-slug> <enrollment-token>

   üìå EXEMPLO:
      curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/register-collector.sh | bash -s -- gruppen-it abc123-def456-ghi789

‚úÖ AP√ìS O REGISTRO:
   ‚Ä¢ Collector aparecer√° como 'ONLINE' na interface
   ‚Ä¢ Logs: tail -f /var/log/samureye-collector/heartbeat.log
   ‚Ä¢ Status: /opt/samureye/collector/scripts/check-status.sh

üîß COMANDOS DISPON√çVEIS:
   ‚Ä¢ Instalar sistema base:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/install-hard-reset.sh | bash

   ‚Ä¢ Registrar collector (ap√≥s criar na interface):
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/register-collector.sh | bash -s -- <tenant-slug> <token>

   ‚Ä¢ Verificar status:
     /opt/samureye/collector/scripts/check-status.sh

üîç DIAGN√ìSTICO E CORRE√á√ÉO:
   ‚Ä¢ Diagn√≥stico problema 401 Unauthorized:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/diagnose-collector-401-unauthorized.sh | bash

   ‚Ä¢ Corre√ß√£o problema 401 Unauthorized:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/fix-collector-401-issue.sh | bash

   ‚Ä¢ Diagn√≥stico auto-registro ap√≥s exclus√£o:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/diagnose-collector-auto-register.sh | bash

   ‚Ä¢ Corre√ß√£o ap√≥s exclus√£o do collector:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/fix-collector-after-deletion.sh | bash

   ‚Ä¢ Diagn√≥stico desconex√£o registro vs servi√ßo:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/diagnose-token-disconnect.sh | bash

   ‚Ä¢ Corre√ß√£o desconex√£o registro vs servi√ßo:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/fix-token-disconnect.sh | bash

   ‚Ä¢ Diagn√≥stico permiss√µes e salvamento token:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/diagnose-permissions-token-save.sh | bash

   ‚Ä¢ Corre√ß√£o permiss√µes e salvamento token:
     curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/fix-permissions-token-save.sh | bash

   ‚Ä¢ Diagn√≥stico r√°pido local:
     /opt/samureye/collector/scripts/check-status.sh

   ‚Ä¢ Salvar token manualmente (se necess√°rio):
     /opt/samureye/collector/scripts/save-token.sh <collector-token>

üí° CORRE√á√ïES INTEGRADAS NO INSTALL-HARD-RESET:
   ‚úÖ Usu√°rio com permiss√µes corretas
   ‚úÖ Arquivo .env com permiss√µes 640 (root:collector)
   ‚úÖ Servi√ßo systemd configurado para usu√°rio samureye-collector
   ‚úÖ Script de salvamento de token integrado
   ‚úÖ Teste de permiss√µes autom√°tico durante instala√ß√£o

root@vlxsam04:~# curl -fsSL https://raw.githubusercontent.com/GruppenIT/SamurEye/main/docs/deployment/vlxsam04/register-collector.sh | bash -s -- gruppen-it fb592b7d-4421-4d6c-a867-d0c1b577a988

üîß REGISTRO COLLECTOR SAMUREYE
==============================

[10:20:13] üîç Par√¢metros recebidos:
   ‚Ä¢ Tenant Slug: gruppen-it
   ‚Ä¢ Token: fb592b7d...b577a988
[10:20:13] üîç Verificando prerequisitos...
[10:20:13] ‚úÖ Prerequisitos verificados
[10:20:13] üîç Coletando informa√ß√µes do sistema...
[10:20:13]    ‚Ä¢ Hostname: vlxsam04
[10:20:13]    ‚Ä¢ IP Address: 192.168.100.151
[10:20:13] üåê Testando conectividade com API...
[10:20:13] ‚úÖ Conectividade OK
[10:20:13] üîß Registrando collector...
[10:20:13] üì§ Enviando registro para API...
[10:20:13] üì• Processando resposta da API...
[10:20:13] üéâ COLLECTOR REGISTRADO COM SUCESSO!

[10:20:13] üìã DETALHES DO REGISTRO:
   ‚Ä¢ Nome do Collector: vlxsam04
   ‚Ä¢ Tenant: Gruppen it
   ‚Ä¢ Status: online
   ‚Ä¢ Hostname: vlxsam04
   ‚Ä¢ IP: 192.168.100.151

[10:20:13] üíæ Salvando token de autentica√ß√£o...
[10:20:13] WARNING: ‚ö†Ô∏è  Token n√£o encontrado na resposta da API
   Registro reportado como sucesso mas token n√£o recebido
[10:20:13] ‚úÖ Collector est√° online e enviando telemetria

[10:20:13] üéØ REGISTRO CONCLU√çDO COM SUCESSO!

üìã PR√ìXIMOS PASSOS:
   ‚Ä¢ O collector j√° est√° enviando telemetria automaticamente
   ‚Ä¢ Verifique o status na interface de administra√ß√£o
   ‚Ä¢ O collector aparecer√° como 'ONLINE' na gest√£o de coletores

[10:20:13] ‚úÖ Script de registro finalizado
root@vlxsam04:~# tail -f /var/log/samureye-collector/collector.log
  File "/opt/samureye/collector/heartbeat.py", line 22, in <module>
    logging.FileHandler('/var/log/samureye-collector/heartbeat.log'),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/logging/__init__.py", line 1231, in __init__
    StreamHandler.__init__(self, self._open())
                                 ^^^^^^^^^^^^
  File "/usr/lib/python3.12/logging/__init__.py", line 1263, in _open
    return open_func(self.baseFilename, self.mode,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: '/var/log/samureye-collector/heartbeat.log'
Traceback (most recent call last):
  File "/opt/samureye/collector/heartbeat.py", line 22, in <module>
    logging.FileHandler('/var/log/samureye-collector/heartbeat.log'),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/logging/__init__.py", line 1231, in __init__
    StreamHandler.__init__(self, self._open())
                                 ^^^^^^^^^^^^
  File "/usr/lib/python3.12/logging/__init__.py", line 1263, in _open
    return open_func(self.baseFilename, self.mode,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: '/var/log/samureye-collector/heartbeat.log'
